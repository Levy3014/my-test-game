<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Hex Conquest</title>
<style>
  body {
    margin: 0;
    padding: 0;
    background: #222;
    color: white;
    font-family: Arial, sans-serif;
    user-select: none;
  }
  #container {
    max-width: 960px;
    margin: 20px auto;
    text-align: center;
  }
  button {
    background: #3498db;
    border: none;
    padding: 12px 24px;
    margin: 10px;
    font-size: 18px;
    color: white;
    cursor: pointer;
    border-radius: 6px;
  }
  button:hover {
    background: #2980b9;
  }
  .hidden {
    display: none;
  }
  .player-input {
    margin: 10px auto;
    max-width: 400px;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
  }
  .player-input input[type="text"] {
    flex: 1;
    font-size: 16px;
    padding: 6px 8px;
    border-radius: 4px;
    border: none;
  }
  .color-picker {
    width: 30px;
    height: 30px;
    border-radius: 4px;
    border: 2px solid #fff;
    cursor: pointer;
  }
  canvas {
    background: #333;
    display: block;
    margin: 20px auto;
    border-radius: 8px;
    border: 2px solid #555;
  }
  #sidebar {
    background: #1e1e1e;
    color: white;
    padding: 10px;
    border-radius: 8px;
    max-width: 300px;
    margin: 0 auto;
  }
  .tile-info {
    margin-top: 10px;
  }
</style>
</head>
<body>
<div id="container">
  <div id="mainMenu">
    <h1>Hex Conquest</h1>
    <button onclick="showScreen('setup')">Start Game</button>
    <button onclick="showScreen('instructions')">Instructions</button>
    <button onclick="showScreen('skins')">Skins</button>
  </div>

  <div id="instructions" class="hidden">
    <h2>Instructions</h2>
    <p>Conquer hex territories! Each player starts with a base.</p>
    <p>Use phases to build, move, and fight. Earn and spend resources wisely.</p>
    <button onclick="showScreen('mainMenu')">Back to Menu</button>
  </div>

  <div id="skins" class="hidden">
    <h2>Choose Board Skin (Coming Soon!)</h2>
    <p>More skins to be added later.</p>
    <button onclick="showScreen('mainMenu')">Back to Menu</button>
  </div>

  <div id="setup" class="hidden">
    <h2>Setup Players</h2>
    <label for="playerCount">Number of Players:</label>
    <select id="playerCount" onchange="renderPlayerInputs()">
      <option value="2" selected>2</option>
      <option value="3">3</option>
      <option value="4">4</option>
    </select>
    <div id="playerInputs"></div>
    <button onclick="startGame()">Start Game</button>
    <button onclick="showScreen('mainMenu')">Back to Menu</button>
  </div>

  <div id="game" class="hidden">
    <h2>Hex Map</h2>
    <canvas id="canvas" width="900" height="800"></canvas>
    <div id="sidebar">
      <h3>Tile Info</h3>
      <div class="tile-info" id="tileDetails">Click a tile to view.</div>
      <h3>Resources</h3>
      <p>Gold: <span id="gold">100</span></p>
      <h3>Shop</h3>
      <button onclick="buyBuilding('Mine', 50)">Build Mine (50g)</button>
      <button onclick="buyBuilding('Barracks', 75)">Build Barracks (75g)</button>
    </div>
    <button onclick="showScreen('mainMenu')">Exit to Menu</button>
  </div>
</div>

<script>
let selectedTile = null;
let gold = 100;
function updateGoldDisplay() {
  document.getElementById('gold').textContent = gold;
}
function buyBuilding(type, cost) {
  if (!selectedTile || selectedTile.structure || selectedTile.owner !== null) return;
  if (gold >= cost) {
    gold -= cost;
    selectedTile.structure = type;
    selectedTile.color = '#4CAF50';
    drawHexMap(mapRadius);
    updateGoldDisplay();
  }
}
</script>
</body>
</html>